<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ç–∞—Ä–∏—Ñ–∞ - MineCraft Hosting</title>
    <link rel="stylesheet" href="/styles/main.css">
</head>
<body>
    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –Ω–∞ —Ñ–æ–Ω–µ -->
    <div class="floating-objects">
        <div class="floating-cube"></div>
        <div class="floating-cube"></div>
        <div class="floating-cube"></div>
        <div class="floating-cube"></div>
        <div class="floating-cube"></div>
        <div class="floating-diamond"></div>
        <div class="floating-diamond"></div>
        <div class="floating-diamond"></div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å –∫–æ—Ä–∑–∏–Ω—ã -->
    <div class="cart-panel" id="cart-panel">
        <div class="cart-header">
            <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
            <button class="cart-close" onclick="toggleCart()">&times;</button>
        </div>
        <div class="cart-items" id="cart-items">
            <div class="cart-empty">
                <div class="cart-empty-icon">üõí</div>
                <p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>
                <p style="font-size: 0.9rem; margin-top: 0.5rem;">–î–æ–±–∞–≤—å—Ç–µ —Ç–∞—Ä–∏—Ñ—ã –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞</p>
            </div>
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span class="cart-total-label">–ò—Ç–æ–≥–æ:</span>
                <span class="cart-total-amount" id="cart-total">0 ‚ÇΩ</span>
            </div>
            <button class="cart-checkout-btn" onclick="checkoutFromCart()" disabled id="cart-checkout-btn">
                –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
            </button>
        </div>
    </div>

    <nav>
        <div class="nav-container">
            <a href="/" class="logo">MINECRAFT HOSTING</a>
            <ul class="nav-links">
                <li><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/shop">–¢–∞—Ä–∏—Ñ—ã</a></li>
                <li><a href="/constructor" class="active">–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</a></li>
                <li><a href="/services">–ú–æ–∏ —É—Å–ª—É–≥–∏</a></li>
            </ul>
            <div class="nav-actions">
                <div class="balance-display" style="display: none;">
                    <span class="balance-label">–ë–∞–ª–∞–Ω—Å:</span>
                    <span class="balance-amount">0 ‚ÇΩ</span>
                </div>
                <button class="cart-button" onclick="toggleCart()">
                    üõí
                    <span class="cart-badge" id="cart-badge" style="display: none;">0</span>
                </button>
                <button class="nav-btn login-btn">–í–æ–π—Ç–∏</button>
                <button class="nav-btn register-btn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                <div class="user-profile" id="user-profile" style="display: none;">
                    <button class="profile-button" onclick="toggleProfileMenu()">
                        <span class="profile-avatar" id="profile-avatar">üë§</span>
                    </button>
                    <div class="profile-menu" id="profile-menu">
                        <div class="profile-header">
                            <div class="profile-name" id="profile-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
                            <div class="profile-email" id="profile-email">user@email.com</div>
                        </div>
                        <div class="profile-balance">
                            <span class="balance-label">–ë–∞–ª–∞–Ω—Å:</span>
                            <span class="balance-amount" id="user-balance">0 ‚ÇΩ</span>
                        </div>
                        <div class="profile-menu-items">
                            <a href="/services" class="profile-menu-item">üìä –ú–æ–∏ —É—Å–ª—É–≥–∏</a>
                            <a href="#" class="profile-menu-item">üí≥ –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</a>
                            <a href="#" class="profile-menu-item" onclick="openChangePasswordModal()">üîë –°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</a>
                            <a href="#" class="profile-menu-item logout-item" onclick="logout()">üö™ –í—ã—Ö–æ–¥</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main class="container">
        <section class="constructor-section">
            <div class="constructor-header">
                <h1>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¢–∞—Ä–∏—Ñ–∞</h1>
                <p>–°–æ–∑–¥–∞–π—Ç–µ –∏–¥–µ–∞–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞</p>
            </div>

            <div class="constructor-container">
                <div class="constructor-controls">
                    <!-- CPU -->
                    <div class="constructor-item">
                        <div class="constructor-item-header">
                            <label>üîß vCPU</label>
                            <span class="constructor-value" id="cpu-value">100%</span>
                        </div>
                        <input type="range" id="cpu-slider" min="50" max="1600" step="50" value="100" class="constructor-slider">
                        <div class="constructor-range">
                            <span>50%</span>
                            <span>1600%</span>
                        </div>
                    </div>

                    <!-- RAM -->
                    <div class="constructor-item">
                        <div class="constructor-item-header">
                            <label>üíæ –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å</label>
                            <span class="constructor-value" id="ram-value">1 GB</span>
                        </div>
                        <input type="range" id="ram-slider" min="1" max="32" step="1" value="1" class="constructor-slider">
                        <div class="constructor-range">
                            <span>1 GB</span>
                            <span>32 GB</span>
                        </div>
                    </div>

                    <!-- Disk -->
                    <div class="constructor-item">
                        <div class="constructor-item-header">
                            <label>üíø –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ</label>
                            <span class="constructor-value" id="disk-value">1 GB</span>
                        </div>
                        <input type="range" id="disk-slider" min="1" max="200" step="1" value="1" class="constructor-slider">
                        <div class="constructor-range">
                            <span>1 GB</span>
                            <span>200 GB</span>
                        </div>
                    </div>

                    <!-- Ports -->
                    <div class="constructor-item">
                        <div class="constructor-item-header">
                            <label>üîå –ü–æ—Ä—Ç—ã</label>
                            <span class="constructor-value" id="ports-value">1</span>
                        </div>
                        <input type="range" id="ports-slider" min="1" max="10" step="1" value="1" class="constructor-slider">
                        <div class="constructor-range">
                            <span>1 –ø–æ—Ä—Ç</span>
                            <span>10 –ø–æ—Ä—Ç–æ–≤</span>
                        </div>
                    </div>

                    <!-- Databases -->
                    <div class="constructor-item">
                        <div class="constructor-item-header">
                            <label>üóÑÔ∏è –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</label>
                            <span class="constructor-value" id="db-value">1</span>
                        </div>
                        <input type="range" id="db-slider" min="1" max="5" step="1" value="1" class="constructor-slider">
                        <div class="constructor-range">
                            <span>1 –±–∞–∑–∞</span>
                            <span>5 –±–∞–∑</span>
                        </div>
                    </div>

                    <!-- Backups -->
                    <div class="constructor-item">
                        <div class="constructor-item-header">
                            <label>üíæ –ë—ç–∫–∞–ø—ã</label>
                            <span class="constructor-value" id="backups-value">1</span>
                        </div>
                        <input type="range" id="backups-slider" min="1" max="3" step="1" value="1" class="constructor-slider">
                        <div class="constructor-range">
                            <span>1 –±—ç–∫–∞–ø</span>
                            <span>3 –±—ç–∫–∞–ø–∞</span>
                        </div>
                    </div>
                </div>

                <div class="constructor-summary">
                    <h2>üìã –ò—Ç–æ–≥–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</h2>
                    
                    <div class="summary-details">
                        <div class="summary-detail-item">
                            <span class="detail-icon">üîß</span>
                            <span class="detail-label">vCPU:</span>
                            <span class="detail-value" id="summary-cpu">100%</span>
                        </div>
                        <div class="summary-detail-item">
                            <span class="detail-icon">üíæ</span>
                            <span class="detail-label">–û–ó–£:</span>
                            <span class="detail-value" id="summary-ram">1 GB</span>
                        </div>
                        <div class="summary-detail-item">
                            <span class="detail-icon">üíø</span>
                            <span class="detail-label">–î–∏—Å–∫:</span>
                            <span class="detail-value" id="summary-disk">1 GB</span>
                        </div>
                        <div class="summary-detail-item">
                            <span class="detail-icon">üîå</span>
                            <span class="detail-label">–ü–æ—Ä—Ç—ã:</span>
                            <span class="detail-value" id="summary-ports">1</span>
                        </div>
                        <div class="summary-detail-item">
                            <span class="detail-icon">üóÑÔ∏è</span>
                            <span class="detail-label">–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:</span>
                            <span class="detail-value" id="summary-db">1</span>
                        </div>
                        <div class="summary-detail-item">
                            <span class="detail-icon">üíæ</span>
                            <span class="detail-label">–ë—ç–∫–∞–ø—ã:</span>
                            <span class="detail-value" id="summary-backups">1</span>
                        </div>
                    </div>

                    <div class="summary-features">
                        <h3>‚ú® –í–∫–ª—é—á–µ–Ω–æ:</h3>
                        <ul>
                            <li>‚úÖ DDoS –∑–∞—â–∏—Ç–∞</li>
                            <li>‚úÖ –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</li>
                            <li>‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–¥–æ–≤</li>
                        </ul>
                    </div>

                    <div class="summary-price">
                        <div class="price-label">–°—Ç–æ–∏–º–æ—Å—Ç—å –≤ –º–µ—Å—è—Ü:</div>
                        <div class="price-value" id="constructor-price">150 ‚ÇΩ</div>
                    </div>

                    <button class="add-to-cart-btn" onclick="addConstructorToCart()">
                        üõí –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                    </button>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 MineCraft Hosting. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('loginModal')">&times;</button>
            <h2>–í—Ö–æ–¥</h2>
            <form class="modal-form" id="loginForm">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" placeholder="–í–≤–µ–¥–∏—Ç–µ email" required>
                </div>
                <div class="form-group">
                    <label for="login-password">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="login-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                </div>
                <button type="submit" class="modal-submit">–í–æ–π—Ç–∏</button>
            </form>
            <div class="modal-switch">
                <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" onclick="switchModal('loginModal', 'registerModal')">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
            </div>
        </div>
    </div>

    <div class="modal" id="registerModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('registerModal')">&times;</button>
            <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            <form class="modal-form" id="registerForm">
                <div class="form-group">
                    <label for="register-name">–ò–º—è</label>
                    <input type="text" id="register-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è" required>
                </div>
                <div class="form-group">
                    <label for="register-email">Email</label>
                    <input type="email" id="register-email" placeholder="–í–≤–µ–¥–∏—Ç–µ email" required>
                </div>
                <div class="form-group">
                    <label for="register-password">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="register-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                </div>
                <button type="submit" class="modal-submit">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            </form>
            <div class="modal-switch">
                <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="switchModal('registerModal', 'loginModal')">–í–æ–π—Ç–∏</a></p>
            </div>
        </div>
    </div>

    <script src="/scripts/app.js"></script>
    <script>
        // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ç–∞—Ä–∏—Ñ–æ–≤
        const sliders = {
            cpu: document.getElementById('cpu-slider'),
            ram: document.getElementById('ram-slider'),
            disk: document.getElementById('disk-slider'),
            ports: document.getElementById('ports-slider'),
            db: document.getElementById('db-slider'),
            backups: document.getElementById('backups-slider')
        };

        const values = {
            cpu: document.getElementById('cpu-value'),
            ram: document.getElementById('ram-value'),
            disk: document.getElementById('disk-value'),
            ports: document.getElementById('ports-value'),
            db: document.getElementById('db-value'),
            backups: document.getElementById('backups-value')
        };

        const summaryValues = {
            cpu: document.getElementById('summary-cpu'),
            ram: document.getElementById('summary-ram'),
            disk: document.getElementById('summary-disk'),
            ports: document.getElementById('summary-ports'),
            db: document.getElementById('summary-db'),
            backups: document.getElementById('summary-backups')
        };

        const priceDisplay = document.getElementById('constructor-price');

        function calculatePrice() {
            const cpu = parseInt(sliders.cpu.value);
            const ram = parseInt(sliders.ram.value);
            const disk = parseInt(sliders.disk.value);
            const ports = parseInt(sliders.ports.value);
            const db = parseInt(sliders.db.value);
            const backups = parseInt(sliders.backups.value);

            // –†–∞—Å—á–µ—Ç —Ü–µ–Ω—ã
            let price = 50; // –±–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞
            price += (cpu / 100) * 30; // 30‚ÇΩ –∑–∞ 100% vCPU
            price += ram * 25; // 25‚ÇΩ –∑–∞ GB RAM
            price += disk * 2; // 2‚ÇΩ –∑–∞ GB –¥–∏—Å–∫–∞
            price += (ports - 1) * 15; // 15‚ÇΩ –∑–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—Ç
            price += (db - 1) * 50; // 50‚ÇΩ –∑–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ë–î
            price += (backups - 1) * 30; // 30‚ÇΩ –∑–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±—ç–∫–∞–ø

            return Math.round(price);
        }

        function updateValues() {
            const cpu = parseInt(sliders.cpu.value);
            const ram = parseInt(sliders.ram.value);
            const disk = parseInt(sliders.disk.value);
            const ports = parseInt(sliders.ports.value);
            const db = parseInt(sliders.db.value);
            const backups = parseInt(sliders.backups.value);

            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
            const cpuText = `${cpu}%`;
            values.cpu.textContent = cpuText;
            summaryValues.cpu.textContent = cpuText;

            values.ram.textContent = `${ram} GB`;
            summaryValues.ram.textContent = `${ram} GB`;

            values.disk.textContent = `${disk} GB`;
            summaryValues.disk.textContent = `${disk} GB`;

            values.ports.textContent = ports;
            summaryValues.ports.textContent = ports;

            values.db.textContent = db;
            summaryValues.db.textContent = db;

            values.backups.textContent = backups;
            summaryValues.backups.textContent = backups;

            // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–µ–Ω—É
            const price = calculatePrice();
            priceDisplay.textContent = `${price} ‚ÇΩ`;
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–∑—É–Ω–∫–æ–≤
        Object.values(sliders).forEach(slider => {
            slider.addEventListener('input', updateValues);
        });

        // –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É
        function addConstructorToCart() {
            const cpu = parseInt(sliders.cpu.value);
            const ram = parseInt(sliders.ram.value);
            const disk = parseInt(sliders.disk.value);
            const ports = parseInt(sliders.ports.value);
            const db = parseInt(sliders.db.value);
            const backups = parseInt(sliders.backups.value);
            const price = calculatePrice();

            const customPlan = {
                id: 'custom_' + Date.now(),
                name: 'CUSTOM',
                ram: `${ram}GB`,
                cpu: `${cpu}%`,
                slots: '–ü–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏',
                storage: `${disk}GB SSD`,
                ports: `${ports} ${ports === 1 ? '–ø–æ—Ä—Ç' : ports < 5 ? '–ø–æ—Ä—Ç–∞' : '–ø–æ—Ä—Ç–æ–≤'}`,
                databases: `${db} ${db === 1 ? '–±–∞–∑–∞' : db < 5 ? '–±–∞–∑—ã' : '–±–∞–∑'} –¥–∞–Ω–Ω—ã—Ö`,
                backups: `${backups} ${backups === 1 ? '–±—ç–∫–∞–ø' : backups < 5 ? '–±—ç–∫–∞–ø–∞' : '–±—ç–∫–∞–ø–æ–≤'}`,
                price: price.toString(),
                features: [
                    'DDoS –∑–∞—â–∏—Ç–∞',
                    '–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è',
                    '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–¥–æ–≤'
                ]
            };

            addToCart(customPlan);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateValues();
    </script>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è -->
    <div class="modal" id="changePasswordModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('changePasswordModal')">&times;</button>
            <h2>–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</h2>
            <form class="modal-form" id="changePasswordForm">
                <div class="form-group">
                    <label for="current-password">–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" id="current-password" name="current-password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                <div class="form-group">
                    <label for="new-password">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" id="new-password" name="new-password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                <div class="form-group">
                    <label for="confirm-new-password">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" id="confirm-new-password" name="confirm-new-password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                <button type="submit" class="modal-submit">–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
            </form>
        </div>
    </div>
</body>
</html>
